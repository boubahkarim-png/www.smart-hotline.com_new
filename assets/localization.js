const I18N_DATA = {
    "fr": {
        "nav.home": "Accueil",
        "nav.services_main": "Services",
        "nav.all_services": "Tous nos services",
        "nav.all_services_desc": "Découvrir notre gamme complète",
        "nav.reception": "Réception d'Appels",
        "nav.reception_desc": "Ne manquez aucun appel",
        "nav.emission": "Émission d'Appels",
        "nav.emission_desc": "Développez votre clientèle",
        "nav.support": "Support Client",
        "nav.support_desc": "Améliorez la satisfaction",
        "nav.pricing": "Tarifs",
        "nav.faq": "FAQ",
        "nav.blog": "Blog",
        "nav.contact": "Contact",
        "footer.description": "Services de communication téléphonique adaptés aux entrepreneurs et PME.",
        "footer.services_title": "Services",
        "footer.reception_link": "Réception d'Appels",
        "footer.emission_link": "Émission d'Appels",
        "footer.support_link": "Support Client",
        "footer.crm_link": "CRM & Listes",
        "footer.company_title": "Entreprise",
        "footer.about_link": "À Propos",
        "footer.blog_link": "Blog",
        "footer.contact_link": "Contact",
        "footer.careers_link": "Carrières",
        "footer.contact_title": "Contact",
        "footer.copyright_text": "© 2023 Smart Hotline Agency. Tous droits réservés.",
        
        // Dynamic content on the home page
        "hero.title": "Services de Communication Sur Mesure",
        "hero.description": "Externalisez votre relation client et concentrez-vous sur votre croissance avec nos solutions adaptées aux entrepreneurs et PME.",
        "hero.cta_demo_text": "Demander une Démo Gratuite",
        "hero.cta_services_text": "Découvrir Nos Services",
        "hero.badge_title": "2 Semaines",
        "hero.badge_subtitle": "Essai Sans Engagement",
        "trust.title": "De confiance pour 500+ PME et entreprises en croissance",
        "trust.badge_1": "Sécurisé & Confidentiel",
        "trust.badge_2": "Disponibilité 24/7",
        "trust.badge_3": "Agents Professionnels",
        "trust.badge_4": "Rentable",
        "services.title": "Nos Solutions Complètes",
        "services.description": "Une gamme complète de services pour répondre à tous vos besoins en matière de communication téléphonique",
        "services.card_1_title": "Réception d'Appels",
        "services.card_1_desc": "Ne manquez plus aucun appel important grâce à notre service de réception dédié.",
        "services.card_2_title": "Émission d'Appels",
        "services.card_2_desc": "Développez votre clientèle avec nos campagnes d'appels ciblées.",
        "services.card_3_title": "Support Client",
        "services.card_3_desc": "Améliorez la satisfaction de vos clients avec un support réactif et professionnel.",
        "services.card_4_title": "CRM & Listes",
        "services.card_4_desc": "CRM complet avec listes qualifiées et autocomposeur pour maximiser vos ventes.",
        "services.link_more": "En savoir plus →",
        "process.title": "Comment Ça Marche",
        "process.description": "Démarrez avec nos services en seulement 4 étapes simples",
        "process.step_1_title": "Consultation",
        "process.step_1_desc": "Nous analysons vos besoins commerciaux et défis de communication",
        "process.step_2_title": "Personnalisation",
        "process.step_2_desc": "Nous adaptons nos services à votre marque et exigences",
        "process.step_3_title": "Mise en Œuvre",
        "process.step_3_desc": "Nous configurons votre solution de communication dédiée",
        "process.step_4_title": "Support",
        "process.step_4_desc": "Nous fournissons un support continu et un suivi des performances",
        "trial.title": "Essayez Nos Services Sans Risque",
        "trial.description": "Découvrez les avantages des services de communication professionnels avec notre essai de 2 semaines. Aucun engagement requis.",
        "trial.features_title": "Ce qui est inclus dans l'essai:",
        "trial.feature_1": "Accès complet à notre service de réception d'appels",
        "trial.feature_2": "Gestion professionnelle du support client",
        "trial.feature_3": "Gestionnaire de compte dédié",
        "trial.feature_4": "Rapports de performance et insights",
        "stats.title": "Des Résultats Prouvés",
        "stats.description": "Découvrez comment nos services transforment les PME comme la vôtre",
        "stats.stat_1_title": "PME Satisfaites",
        "stats.stat_1_desc": "Nous accompagnons déjà",
        "stats.stat_2_title": "Taux de Satisfaction",
        "stats.stat_2_desc": "De nos clients",
        "stats.stat_3_title": "Économie de Temps",
        "stats.stat_3_desc": "Pour nos clients",
        "stats.stat_4_title": "Disponibilité",
        "stats.stat_4_desc": "De nos services",
        "testimonials.title": "Ce Que Disent Nos Clients",
        "testimonials.description": "Découvrez comment nos solutions ont aidé des entrepreneurs comme vous à développer leur activité",
        "testimonials.test_1_text": "En tant que petite entreprise, nous ne pouvions pas nous permettre une secrétaire à temps plein. Smart Hotline nous a permis de paraître plus grand que nous ne sommes, avec un service professionnel qui a impressionné nos clients.",
        "testimonials.test_2_text": "Le retour sur investissement est incroyable. Pour le coût d'une demi-journée de travail par mois, nous avons un service de réception d'appels professionnel qui nous a permis de ne manquer aucune opportunité commerciale.",
        "testimonials.test_3_text": "J'ai lancé mon entreprise il y a 18 mois et Smart Hotline a été l'un de mes meilleurs investissements. Ils ont géré tous mes appels pendant que je me concentrais sur le développement de mon activité.",
        "cta.title": "Prêt à Transformer Votre Communication?",
        "cta.description": "Rejoignez des centaines d'entrepreneurs et PME qui ont déjà optimisé leur relation client avec nos solutions.",
        "cta.cta_demo_text": "Demander une Démo Gratuite",
        "cta.cta_offers_text": "Découvrir Nos Offres"
    },
    "en": {
        "nav.home": "Home",
        "nav.services_main": "Services",
        "nav.all_services": "All Our Services",
        "nav.all_services_desc": "Discover our complete range",
        "nav.reception": "Call Reception",
        "nav.reception_desc": "Never miss a call",
        "nav.emission": "Call Emission",
        "nav.emission_desc": "Grow your customer base",
        "nav.support": "Customer Support",
        "nav.support_desc": "Improve satisfaction",
        "nav.pricing": "Pricing",
        "nav.faq": "FAQ",
        "nav.blog": "Blog",
        "nav.contact": "Contact",
        "footer.description": "Telephone communication services adapted for entrepreneurs and SMEs.",
        "footer.services_title": "Services",
        "footer.reception_link": "Call Reception",
        "footer.emission_link": "Call Emission",
        "footer.support_link": "Customer Support",
        "footer.crm_link": "CRM & Lists",
        "footer.company_title": "Company",
        "footer.about_link": "About",
        "footer.blog_link": "Blog",
        "footer.contact_link": "Contact",
        "footer.careers_link": "Careers",
        "footer.contact_title": "Contact",
        "footer.copyright_text": "© 2023 Smart Hotline Agency. All rights reserved.",

        // Dynamic content on the home page
        "hero.title": "Customized Communication Services",
        "hero.description": "Outsource your customer relations and focus on your growth with our solutions adapted for entrepreneurs and SMEs.",
        "hero.cta_demo_text": "Request a Free Demo",
        "hero.cta_services_text": "Discover Our Services",
        "hero.badge_title": "2 Weeks",
        "hero.badge_subtitle": "Risk-Free Trial",
        "trust.title": "Trusted by 500+ SMEs and Growing Businesses",
        "trust.badge_1": "Secure & Confidential",
        "trust.badge_2": "24/7 Availability",
        "trust.badge_3": "Professional Agents",
        "trust.badge_4": "Cost-Effective",
        "services.title": "Our Complete Solutions",
        "services.description": "A full range of services to meet all your telephone communication needs",
        "services.card_1_title": "Call Reception",
        "services.card_1_desc": "Never miss an important call again with our dedicated reception service.",
        "services.card_2_title": "Call Emission",
        "services.card_2_desc": "Grow your customer base with our targeted calling campaigns.",
        "services.card_3_title": "Customer Support",
        "services.card_3_desc": "Improve customer satisfaction with responsive and professional support.",
        "services.card_4_title": "CRM & Lists",
        "services.card_4_desc": "Comprehensive CRM with qualified lists and autodialer to maximize your sales.",
        "services.link_more": "Learn More →",
        "process.title": "How It Works",
        "process.description": "Get started with our services in just 4 simple steps",
        "process.step_1_title": "Consultation",
        "process.step_1_desc": "We analyze your business needs and communication challenges",
        "process.step_2_title": "Customization",
        "process.step_2_desc": "We tailor our services to match your brand and requirements",
        "process.step_3_title": "Implementation",
        "process.step_3_desc": "We set up your dedicated communication solution",
        "process.step_4_title": "Ongoing Support",
        "process.step_4_desc": "We provide continuous support and performance monitoring",
        "trial.title": "Try Our Services Risk-Free",
        "trial.description": "Discover the benefits of professional communication services with our 2-week trial. No commitment required.",
        "trial.features_title": "What's Included in the Trial:",
        "trial.feature_1": "Full access to our call reception service",
        "trial.feature_2": "Professional customer support management",
        "trial.feature_3": "Dedicated account manager",
        "trial.feature_4": "Performance reports and insights",
        "stats.title": "Proven Results",
        "stats.description": "See how our services are transforming SMEs like yours",
        "stats.stat_1_title": "Satisfied SMEs",
        "stats.stat_1_desc": "We are already supporting",
        "stats.stat_2_title": "Satisfaction Rate",
        "stats.stat_2_desc": "From our clients",
        "stats.stat_3_title": "Time Saved",
        "stats.stat_3_desc": "For our clients",
        "stats.stat_4_title": "Availability",
        "stats.stat_4_desc": "Of our services",
        "testimonials.title": "What Our Clients Say",
        "testimonials.description": "See how our solutions have helped entrepreneurs like you grow their business",
        "testimonials.test_1_text": "As a small business, we couldn't afford a full-time secretary. Smart Hotline allowed us to appear bigger than we are, with professional service that impressed our clients.",
        "testimonials.test_2_text": "The return on investment is incredible. For the cost of half a day's work per month, we have a professional call reception service that ensured we never missed a business opportunity.",
        "testimonials.test_3_text": "I launched my business 18 months ago, and Smart Hotline has been one of my best investments. They managed all my calls while I focused on building my business.",
        "cta.title": "Ready to Transform Your Communication?",
        "cta.description": "Join hundreds of entrepreneurs and SMEs who have already optimized their customer relations with our solutions.",
        "cta.cta_demo_text": "Request a Free Demo",
        "cta.cta_offers_text": "Discover Our Offers"
    }
};

/**
 * Applies translations to elements with data-i18n attributes.
 * Also updates the language selector text.
 * @param {string} lang - The current language code (e.g., 'fr', 'en').
 */
function applyTranslations(lang) {
    const translations = I18N_DATA[lang];
    if (!translations) return;

    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[key]) {
            element.textContent = translations[key];
        }
    });

    // Update the current language display in the header
    const currentLangSpan = document.getElementById('currentLang');
    if (currentLangSpan) {
        currentLangSpan.textContent = lang.toUpperCase();
    }
}

// Function to update dynamic links (nav and footer) based on current lang
function updateDynamicLinks(lang) {
    const currentDir = lang === 'fr' ? '/fr/' : '/en/';

    document.querySelectorAll('[data-nav-link]').forEach(link => {
        const page = link.getAttribute('data-nav-link');
        let filename = '';

        switch (page) {
            case 'home':
                filename = 'index.html';
                break;
            case 'services':
                filename = 'services.html';
                break;
            case 'reception':
                filename = 'reception.html';
                break;
            case 'emission':
                filename = 'emission.html';
                break;
            case 'support':
                filename = 'support.html';
                break;
            case 'crm-lists':
                filename = 'crm-lists.html';
                break;
            case 'pricing':
                filename = 'pricing.html';
                break;
            case 'faq':
                filename = 'faq.html';
                break;
            case 'blog':
                filename = 'blog.html';
                break;
            case 'contact':
                filename = 'contact.html';
                break;
            case 'about':
                filename = 'about.html';
                break;
            default:
                // For links like 'careers' that don't need translation/pathing
                return;
        }

        // Set the full absolute path
        link.setAttribute('href', `${currentDir}${filename}`);

        // Set the logo link to the home page (index.html is assumed)
        if (page === 'home') {
             link.setAttribute('href', `${currentDir}index.html`);
        }
    });
}

/**
 * Main function to run when the script loads
 */
function initLocalization() {
    const body = document.body;
    const currentLang = body.getAttribute('data-lang') || 'fr'; // Default to FR
    
    // 1. Apply translations for the correct language
    applyTranslations(currentLang);
    
    // 2. Update all internal links in the header/footer (using absolute paths)
    updateDynamicLinks(currentLang);
}

// Ensure initLocalization runs after all DOM content (including includes) is loaded
document.addEventListener('DOMContentLoaded', initLocalization);
