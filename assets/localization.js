// Localization data
const translations = {
    fr: {
        // Navigation
        nav: {
            home: "Accueil",
            services: "Services",
            pricing: "Tarifs",
            about: "À propos",
            blog: "Blog",
            contact: "Contact",
            getStarted: "Commencer",
            login: "Connexion"
        },
        
        // Common
        common: {
            readMore: "Lire la suite",
            learnMore: "En savoir plus",
            contactUs: "Contactez-nous",
            requestDemo: "Demander une démo",
            freeTrial: "Essai gratuit",
            pricing: "Tarifs",
            features: "Fonctionnalités",
            testimonials: "Témoignages",
            faq: "FAQ",
            newsletter: "Newsletter",
            subscribe: "S'abonner",
            submit: "Envoyer",
            name: "Nom",
            email: "Email",
            phone: "Téléphone",
            company: "Entreprise",
            message: "Message",
            service: "Service",
            package: "Forfait",
            thankYou: "Merci!",
            successMessage: "Votre message a été envoyé avec succès.",
            errorMessage: "Une erreur est survenue. Veuillez réessayer."
        },
        
        // Home page
        home: {
            title: "Services d'Externalisation Téléphonique | Smart Hotline Agency",
            description: "Externalisez votre réception et émission d'appels avec Smart Hotline. Solutions adaptées aux PME avec tarifs compétitifs et essai sans engagement.",
            heroTitle: "Optimisez Votre Relation Client",
            heroDescription: "Externalisez votre communication téléphonique et concentrez-vous sur votre croissance. Nos solutions adaptées aux PME vous font économiser temps et argent.",
            heroCTA: "Commencer Votre Essai Gratuit",
            heroSecondaryCTA: "Découvrir Nos Services",
            featuresTitle: "Pourquoi Choisir Smart Hotline?",
            servicesTitle: "Nos Services Populaires",
            testimonialsTitle: "Ce Que Disent Nos Clients",
            pricingTitle: "Tarifs Simples et Transparent",
            blogTitle: "Derniers Articles",
            newsletterTitle: "Restez Informé",
            newsletterDescription: "Recevez nos derniers conseils et actualités sur l'externalisation téléphonique."
        },
        
        // Services page
        services: {
            title: "Services de Communication Téléphonique | Smart Hotline Agency",
            description: "Découvrez nos services complets de communication téléphonique pour PME : réception d'appels, émission d'appels, support client et CRM sur mesure. Externalisez votre relation client.",
            keywords: "réception d'appels, télésecrétariat, téléprospection, support client externalisé, CRM PME, centre d'appels externalisé, services téléphoniques pour PME",
            heroTitle: "Services de Communication Complètes",
            heroDescription: "Externalisez votre relation client et concentrez-vous sur votre croissance avec nos solutions adaptées aux entrepreneurs et PME.",
            requestDemo: "Demander une Démo",
            discoverServices: "Découvrir Nos Services",
            trialDuration: "2 Semaines",
            trialText: "Essai Sans Engagement",
            ourServices: "Nos Solutions Complètes",
            servicesDescription: "Une gamme complète de services pour répondre à tous vos besoins en matière de communication téléphonique",
            receptionTitle: "Réception d'Appels",
            receptionDescription: "Ne manquez plus jamais un appel important avec notre service de réception dédié. Notre équipe professionnelle gère tous vos appels entrants avec le soin et l'attention que vos clients méritent.",
            receptionBenefit1: "Disponibilité 24/7",
            receptionBenefit2: "Scripts personnalisés",
            receptionBenefit3: "Prise de messages et transfert",
            prospectingTitle: "Émission d'Appels",
            prospectingDescription: "Développez votre clientèle avec nos campagnes d'appels ciblées. Notre équipe expérimentée vous aide à contacter des clients potentiels et à générer des leads qualifiés.",
            prospectingBenefit1: "Génération de leads",
            prospectingBenefit2: "Prise de rendez-vous",
            prospectingBenefit3: "Campagnes de suivi",
            supportTitle: "Support Client",
            supportDescription: "Améliorez la satisfaction de vos clients avec un support réactif et professionnel. Notre équipe gère toutes les demandes, réclamations et requêtes de support de manière efficace.",
            supportBenefit1: "Support technique",
            supportBenefit2: "Informations sur les produits",
            supportBenefit3: "Résolution de problèmes",
            crmTitle: "CRM & Listes",
            crmDescription: "CRM complet avec listes qualifiées et autocomposeur pour maximiser vos ventes. Gérez efficacement vos relations clients avec notre système complet.",
            crmBenefit1: "Gestion des contacts",
            crmBenefit2: "Intégration autocomposeur",
            crmBenefit3: "Analytiques de vente",
            provenResults: "Des Résultats Prouvés",
            resultsDescription: "Découvrez comment nos services transforment les PME comme la vôtre",
            satisfiedSMEs: "PME Satisfaites",
            smeDescription: "Nous accompagnons déjà",
            satisfactionRate: "Taux de Satisfaction",
            satisfactionDescription: "De nos clients",
            timeSavings: "Économie de Temps",
            timeDescription: "Pour nos clients",
            availability: "Disponibilité",
            availabilityDescription: "De nos services",
            clientTestimonials: "Ce Que Disent Nos Clients",
            testimonialsDescription: "Découvrez comment nos solutions ont aidé des entrepreneurs comme vous à développer leur activité",
            readyToStart: "Prêt à Démarrer?",
            readyDescription: "Rejoignez des centaines d'entrepreneurs et PME qui ont déjà optimisé leur relation client avec nos solutions.",
            contactUs: "Contactez-Nous Aujourd'hui",
            selectPlan: "Voir Nos Plans",
            learnMore: "En Savoir Plus",
            getStarted: "Commencer"
        },
        
        // Pricing page
        pricing: {
            title: "Tarifs des Services Téléphoniques | Smart Hotline Agency",
            description: "Découvrez nos tarifs compétitifs pour l'externalisation de vos appels. Plans flexibles adaptés aux PME avec essai gratuit sans engagement.",
            keywords: "tarifs externalisation appels, prix télésecrétariat, coût centre d'appels, tarification support client, prix CRM PME",
            heroTitle: "Tarifs Simples et Transparent",
            heroDescription: "Choisissez le plan qui correspond à vos besoins. Tous nos plans incluent un essai de 2 semaines sans engagement.",
            monthly: "Mensuel",
            yearly: "Annuel (Économisez 20%)",
            save: "Économisez",
            mostPopular: "Le Plus Populaire",
            basic: "Basique",
            standard: "Standard",
            premium: "Premium",
            enterprise: "Entreprise",
            reception: "Réception d'Appels",
            emission: "Émission d'Appels",
            support: "Support Client",
            crm: "CRM & Listes",
            customPlan: "Plan Sur Mesure",
            contactSales: "Contacter le Service Commercial",
            features: {
                callsPerMonth: "Appels par mois",
                minutesPerMonth: "Minutes par mois",
                dedicatedNumber: "Numéro dédié",
                customScript: "Script personnalisé",
                callRecording: "Enregistrement d'appels",
                analytics: "Analytiques",
                prioritySupport: "Support prioritaire",
                dedicatedAgent: "Agent dédié",
                crmIntegration: "Intégration CRM",
                customReporting: "Rapports personnalisés",
                slaGuarantee: "Garantie SLA"
            },
            faqTitle: "Questions Fréquentes",
            faq1Question: "Comment fonctionne l'essai gratuit?",
            faq1Answer: "Nous offrons un essai de 2 semaines sans engagement. Vous pouvez tester tous nos services et décider si Smart Hotline vous convient.",
            faq2Question: "Puis-je changer de plan à tout moment?",
            faq2Answer: "Oui, vous pouvez passer à un plan supérieur à tout moment. Pour passer à un plan inférieur, cela prendra effet au début du prochain cycle de facturation.",
            faq3Question: "Y a-t-il des frais d'installation?",
            faq3Answer: "Non, il n'y a aucun frais d'installation. Vous ne payez que pour le plan que vous choisissez.",
            faq4Question: "Comment facturez-vous?",
            faq4Answer: "Nous facturons mensuellement ou annuellement, selon votre préférence. Le paiement par carte de crédit ou prélèvement automatique est accepté.",
            faq5Question: "Puis-je annuler mon abonnement à tout moment?",
            faq5Answer: "Oui, vous pouvez annuler votre abonnement à tout moment. L'annulation prendra effet à la fin de la période de facturation en cours."
        },
        
        // Contact page
        contact: {
            title: "Contactez-Nous | Smart Hotline Agency",
            description: "Contactez Smart Hotline pour découvrir comment nos services d'externalisation téléphonique peuvent aider votre entreprise à croître.",
            keywords: "contact Smart Hotline, externalisation téléphonique, centre d'appels, support client PME",
            heroTitle: "Contactez-Nous",
            heroDescription: "Notre équipe est prête à répondre à toutes vos questions et à vous aider à trouver la solution parfaite pour votre entreprise.",
            formTitle: "Envoyez-Nous un Message",
            formDescription: "Remplissez le formulaire ci-dessous et nous vous répondrons dans les plus brefs délais.",
            officesTitle: "Nos Bureaux",
            montrealOffice: "Bureau de Montréal",
            torontoOffice: "Bureau de Toronto",
            parisOffice: "Bureau de Paris",
            londonOffice: "Bureau de Londres",
            callUs: "Appelez-Nous",
            emailUs: "Écrivez-Nous",
            followUs: "Suivez-Nous"
        },
        
        // About page
        about: {
            title: "À Propos de Smart Hotline Agency",
            description: "Découvrez l'histoire de Smart Hotline Agency et notre mission d'aider les PME à optimiser leur communication téléphonique.",
            keywords: "à propos Smart Hotline, histoire entreprise, mission vision, équipe centre d'appels",
            heroTitle: "À Propos de Smart Hotline",
            heroDescription: "Nous sommes passionnés par l'aide aux PME pour réussir grâce à une communication téléphonique efficace et professionnelle.",
            ourStoryTitle: "Notre Histoire",
            ourStoryDescription: "Smart Hotline a été fondée en 2018 par des entrepreneurs qui comprenaient les défis auxquels les petites entreprises sont confrontées pour gérer leurs communications tout en se concentrant sur leur croissance.",
            ourMissionTitle: "Notre Mission",
            ourMissionDescription: "Notre mission est de fournir des services de communication téléphonique de haute qualité aux PME à un coût abordable, leur permettant de paraître plus grandes et plus professionnelles.",
            ourValuesTitle: "Nos Valeurs",
            ourValuesDescription: "Nous sommes guidés par des valeurs de professionnalisme, d'intégrité, d'innovation et de engagement envers le succès de nos clients.",
            teamTitle: "Notre Équipe",
            teamDescription: "Notre équipe est composée de professionnels expérimentés passionnés par l'aide aux entreprises à réussir."
        },
        
        // Blog page
        blog: {
            title: "Blog - Actualités et Conseils | Smart Hotline Agency",
            description: "Découvrez nos derniers articles sur l'externalisation téléphonique, le service client et les conseils pour PME.",
            keywords: "blog externalisation, conseils service client, télésecrétariat, gestion appels PME",
            heroTitle: "Notre Blog",
            heroDescription: "Découvrez nos derniers articles, conseils et actualités sur l'externalisation téléphonique et l'amélioration du service client.",
            readMore: "Lire la suite",
            publishedOn: "Publié le",
            categories: "Catégories",
            allCategories: "Toutes les catégories",
            recentPosts: "Articles Récents",
            tags: "Tags",
            popularTags: "Tags Populaires",
            searchPlaceholder: "Rechercher des articles...",
            noResults: "Aucun résultat trouvé pour votre recherche.",
            loadMore: "Charger plus d'articles"
        },
        
        // Reception page
        reception: {
            title: "Service de Réception d'Appels | Smart Hotline Agency",
            description: "Ne manquez plus jamais un appel avec notre service de réception d'appels professionnel. Disponible 24/7 pour les PME.",
            keywords: "réception d'appels, télésecrétariat, standard externalisé, réponse téléphonique PME",
            heroTitle: "Réception d'Appels Professionnelle",
            heroDescription: "Notre équipe de télésecrétaires dédiés gère tous vos appels entrants avec professionnalisme, garantissant que chaque client reçoit l'attention qu'il mérite.",
            howItWorksTitle: "Comment Ça Fonctionne",
            step1Title: "Configuration",
            step1Description: "Nous travaillons avec vous pour comprendre vos besoins et créer des scripts personnalisés.",
            step2Title: "Transfert",
            step2Description: "Transférez vos appels vers notre numéro dédié ou utilisez notre service de transfert d'appels.",
            step3Title: "Gestion",
            step3Description: "Notre équipe répond à vos appels selon vos instructions et transmet les messages importants.",
            featuresTitle: "Fonctionnalités Incluses",
            testimonialsTitle: "Ce Que Disent Nos Clients",
            pricingTitle: "Tarifs pour la Réception d'Appels",
            getStarted: "Commencer Maintenant"
        },
        
        // Emission page
        emission: {
            title: "Service d'Émission d'Appels | Smart Hotline Agency",
            description: "Développez votre clientèle avec notre service d'émission d'appels. Génération de leads, prise de rendez-vous et campagnes de suivi.",
            keywords: "émission d'appels, téléprospection, génération leads, prise rendez-vous, prospection téléphonique",
            heroTitle: "Émission d'Appels Efficace",
            heroDescription: "Notre équipe expérimentée vous aide à contacter des clients potentiels, à générer des leads qualifiés et à prendre des rendez-vous pour votre entreprise.",
            howItWorksTitle: "Comment Ça Fonctionne",
            step1Title: "Stratégie",
            step1Description: "Nous développons une stratégie d'appel adaptée à vos objectifs et à votre public cible.",
            step2Description: "Nous préparons des scripts et formons notre équipe sur vos produits ou services.",
            step3Title: "Exécution",
            step3Description: "Notre équipe lance la campagne d'appels et vous fournit des rapports détaillés sur les résultats.",
            featuresTitle: "Fonctionnalités Incluses",
            testimonialsTitle: "Ce Que Disent Nos Clients",
            pricingTitle: "Tarifs pour l'Émission d'Appels",
            getStarted: "Commencer Maintenant"
        },
        
        // Support page
        support: {
            title: "Service de Support Client | Smart Hotline Agency",
            description: "Améliorez la satisfaction de vos clients avec notre service de support client externalisé. Disponible 24/7 pour les PME.",
            keywords: "support client externalisé, service client PME, assistance téléphonique, helpdesk externalisé",
            heroTitle: "Support Client de Qualité",
            heroDescription: "Notre équipe de support client gère toutes les demandes, réclamations et requêtes de support de manière efficace, améliorant la satisfaction de vos clients.",
            howItWorksTitle: "Comment Ça Fonctionne",
            step1Title: "Formation",
            step1Description: "Nous formons notre équipe sur vos produits, services et procédures de support.",
            step2Title: "Intégration",
            step2Description: "Nous intégrons nos systèmes avec les vôtres pour un suivi transparent des demandes.",
            step3Title: "Support",
            step3Description: "Notre équipe gère toutes les demandes de support et vous fournit des rapports détaillés.",
            featuresTitle: "Fonctionnalités Incluses",
            testimonialsTitle: "Ce Que Disent Nos Clients",
            pricingTitle: "Tarifs pour le Support Client",
            getStarted: "Commencer Maintenant"
        },
        
        // CRM & Lists page
        crmLists: {
            title: "CRM & Listes Qualifiées | Smart Hotline Agency",
            description: "CRM complet avec listes qualifiées et autocomposeur pour maximiser vos ventes. Gérez efficacement vos relations clients.",
            keywords: "CRM PME, gestion relation client, listes qualifiées, autocomposeur, logiciel vente",
            heroTitle: "CRM & Listes pour Maximiser vos Ventes",
            heroDescription: "Notre système CRM complet avec listes qualifiées et autocomposeur vous aide à gérer efficacement vos relations clients et à augmenter vos ventes.",
            howItWorksTitle: "Comment Ça Fonctionne",
            step1Title: "Configuration",
            step1Description: "Nous configurons le CRM selon vos besoins et importons vos contacts existants.",
            step2Title: "Listes",
            step2Description: "Nous fournissons des listes qualifiées adaptées à votre secteur d'activité et à vos objectifs.",
            step3Title: "Autocomposeur",
            step3Description: "Notre système d'autocomposeur automatise les appels et optimise le temps de vos agents.",
            featuresTitle: "Fonctionnalités Incluses",
            testimonialsTitle: "Ce Que Disent Nos Clients",
            pricingTitle: "Tarifs pour le CRM & Listes",
            getStarted: "Commencer Maintenant"
        },
        
        // Terms and Conditions page
        terms: {
            title: "Conditions Générales | Smart Hotline Agency",
            description: "Consultez nos conditions générales pour l'utilisation des services de Smart Hotline Agency.",
            keywords: "conditions générales, termes d'utilisation, contrat service, mentions légales",
            heroTitle: "Conditions Générales",
            heroDescription: "Veuillez lire attentivement nos conditions générales avant d'utiliser nos services.",
            introductionTitle: "Introduction",
            introductionContent: "Ces conditions générales régissent l'utilisation des services de Smart Hotline Agency. En utilisant nos services, vous acceptez ces conditions.",
            servicesTitle: "Services",
            servicesContent: "Smart Hotline Agency fournit des services de réception et émission d'appels, de support client et de CRM pour les entreprises.",
            paymentTitle: "Paiement",
            paymentContent: "Les paiements sont dus mensuellement ou annuellement, selon le plan choisi. Tous les paiements sont non remboursables.",
            cancellationTitle: "Annulation",
            cancellationContent: "Vous pouvez annuler votre abonnement à tout moment. L'annulation prendra effet à la fin de la période de facturation en cours.",
            privacyTitle: "Confidentialité",
            privacyContent: "Nous nous engageons à protéger la confidentialité de vos informations. Consultez notre politique de confidentialité pour plus de détails.",
            liabilityTitle: "Responsabilité",
            liabilityContent: "Smart Hotline Agency n'est pas responsable des pertes indirectes ou consécutives découlant de l'utilisation de nos services.",
            changesTitle: "Modifications",
            changesContent: "Nous nous réservons le droit de modifier ces conditions à tout moment. Les modifications entreront en vigueur dès leur publication sur notre site.",
            contactTitle: "Contact",
            contactContent: "Pour toute question concernant ces conditions générales, veuillez nous contacter à l'adresse suivante : legal@smart-hotline.com."
        }
    },
    
    en: {
        // Navigation
        nav: {
            home: "Home",
            services: "Services",
            pricing: "Pricing",
            about: "About",
            blog: "Blog",
            contact: "Contact",
            getStarted: "Get Started",
            login: "Login"
        },
        
        // Common
        common: {
            readMore: "Read More",
            learnMore: "Learn More",
            contactUs: "Contact Us",
            requestDemo: "Request Demo",
            freeTrial: "Free Trial",
            pricing: "Pricing",
            features: "Features",
            testimonials: "Testimonials",
            faq: "FAQ",
            newsletter: "Newsletter",
            subscribe: "Subscribe",
            submit: "Submit",
            name: "Name",
            email: "Email",
            phone: "Phone",
            company: "Company",
            message: "Message",
            service: "Service",
            package: "Package",
            thankYou: "Thank You!",
            successMessage: "Your message has been sent successfully.",
            errorMessage: "An error occurred. Please try again."
        },
        
        // Add English translations for all pages...
    }
};

// Current language
let currentLanguage = 'fr';

// Initialize localization
function initLocalization() {
    // Detect language from URL or browser
    const urlLanguage = window.location.pathname.split('/')[1];
    if (urlLanguage === 'en' || urlLanguage === 'fr') {
        currentLanguage = urlLanguage;
    } else {
        // Fallback to browser language or default to French
        const browserLanguage = navigator.language.split('-')[0];
        currentLanguage = browserLanguage === 'en' ? 'en' : 'fr';
    }
    
    // Apply translations
    applyTranslations();
    
    // Add language switcher event listeners
    const languageSwitchers = document.querySelectorAll('.language-switcher');
    languageSwitchers.forEach(switcher => {
        switcher.addEventListener('click', function(e) {
            e.preventDefault();
            const newLanguage = this.getAttribute('data-language');
            switchLanguage(newLanguage);
        });
    });
}

// Apply translations to elements with data-i18n attribute
function applyTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getTranslation(key);
        
        if (translation) {
            // Handle different element types
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else if (element.tagName === 'META') {
                element.content = translation;
            } else {
                element.textContent = translation;
            }
        }
    });
    
    // Update HTML lang attribute
    document.documentElement.lang = currentLanguage;
    
    // Update direction if needed (for RTL languages)
    if (currentLanguage === 'ar' || currentLanguage === 'he') {
        document.documentElement.dir = 'rtl';
    } else {
        document.documentElement.dir = 'ltr';
    }
}

// Get translation by key
function getTranslation(key) {
    const keys = key.split('.');
    let translation = translations[currentLanguage];
    
    for (const k of keys) {
        if (translation && translation[k]) {
            translation = translation[k];
        } else {
            // Fallback to French if translation not found in current language
            translation = translations.fr;
            for (const fallbackKey of keys) {
                if (translation && translation[fallbackKey]) {
                    translation = translation[fallbackKey];
                } else {
                    return null;
                }
            }
            break;
        }
    }
    
    return translation;
}

// Switch language
function switchLanguage(newLanguage) {
    if (newLanguage === currentLanguage) return;
    
    // Store current page path
    const currentPath = window.location.pathname;
    
    // Replace language in path
    let newPath;
    if (currentPath.includes('/fr/') || currentPath.includes('/en/')) {
        newPath = currentPath.replace(`/${currentLanguage}/`, `/${newLanguage}/`);
    } else {
        newPath = `/${newLanguage}${currentPath}`;
    }
    
    // Navigate to new language page
    window.location.href = newPath;
}

// Format price based on current language and location
function formatPrice(price, currency = 'CAD') {
    const locale = currentLanguage === 'fr' ? 'fr-CA' : 'en-CA';
    
    return new Intl.NumberFormat(locale, {
        style: 'currency',
        currency: currency,
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
    }).format(price);
}

// Format date based on current language
function formatDate(date) {
    const locale = currentLanguage === 'fr' ? 'fr-CA' : 'en-CA';
    
    return new Intl.DateTimeFormat(locale, {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }).format(date);
}

// Initialize on DOM content loaded
document.addEventListener('DOMContentLoaded', initLocalization);
